# ============================================
# 日曆 + 任務管理系統 - 環境變數範本
# ============================================
# 複製此檔案為 .env 並填入實際值
# 指令: cp .env.example .env

# ============================================
# 環境設定
# ============================================
ENVIRONMENT=development
# 選項: development, staging, production

PROJECT_NAME=Calendar App API

# ============================================
# 資料庫設定 (PostgreSQL)
# ============================================
# 格式: postgresql+asyncpg://用戶名:密碼@主機:端口/資料庫名稱

# 本地開發 (Docker)
DATABASE_URL=postgresql+asyncpg://calendar_user:calendar_password@localhost:5432/calendar_db

# 或本地開發 (無 Docker)
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/calendar_dev

# 生產環境範例 (請替換為實際值)
# DATABASE_URL=postgresql+asyncpg://prod_user:strong_password@db.example.com:5432/calendar_prod

# 資料庫連線池設定
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# ============================================
# Redis 設定
# ============================================
# 格式: redis://主機:端口/資料庫編號

# 本地開發
REDIS_URL=redis://localhost:6379/0

# 生產環境範例 (如果有密碼)
# REDIS_URL=redis://:password@redis.example.com:6379/0

# ============================================
# Celery 設定 (背景任務)
# ============================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ============================================
# JWT 認證設定
# ============================================
# 密鑰 - 生產環境請使用以下指令生成:
# openssl rand -hex 32
SECRET_KEY=your-secret-key-please-change-me-in-production

# JWT 演算法
ALGORITHM=HS256

# Token 過期時間 (分鐘)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh Token 過期時間 (天)
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CORS 設定
# ============================================
# 允許的前端來源 (JSON 陣列格式)
BACKEND_CORS_ORIGINS=["http://localhost:3000", "http://localhost:19006"]

# 生產環境範例
# BACKEND_CORS_ORIGINS=["https://app.example.com", "https://mobile.example.com"]

# ============================================
# 檔案上傳設定
# ============================================
# 上傳檔案大小限制 (MB)
MAX_UPLOAD_SIZE_MB=10

# 上傳目錄
UPLOAD_DIR=./uploads

# 支援的檔案類型 (逗號分隔)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain

# ============================================
# AWS S3 設定 (可選 - 如果使用雲端儲存)
# ============================================
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_S3_BUCKET_NAME=calendar-app-uploads
# AWS_REGION=us-east-1

# ============================================
# Email 設定 (用於通知)
# ============================================
# SMTP 伺服器
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@calendar-app.com
# SMTP_FROM_NAME=Calendar App

# ============================================
# WebSocket 設定
# ============================================
# WebSocket 心跳間隔 (秒)
WEBSOCKET_PING_INTERVAL=30

# WebSocket 連線超時 (秒)
WEBSOCKET_TIMEOUT=300

# ============================================
# 安全設定
# ============================================
# 密碼最小長度
MIN_PASSWORD_LENGTH=8

# 登入失敗次數限制
MAX_LOGIN_ATTEMPTS=5

# 登入失敗鎖定時間 (分鐘)
LOGIN_LOCKOUT_MINUTES=15

# API 速率限制 (每分鐘請求數)
RATE_LIMIT_PER_MINUTE=60

# ============================================
# 日誌設定
# ============================================
# 日誌等級: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日誌格式: json, text
LOG_FORMAT=json

# ============================================
# 監控與錯誤追蹤
# ============================================
# Sentry DSN (可選)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================
# 功能開關
# ============================================
# 啟用註冊功能
ENABLE_REGISTRATION=true

# 啟用 Email 驗證
ENABLE_EMAIL_VERIFICATION=false

# 啟用社交登入
ENABLE_SOCIAL_LOGIN=false

# 啟用檔案上傳
ENABLE_FILE_UPLOAD=true

# ============================================
# 時區與語言
# ============================================
DEFAULT_TIMEZONE=Asia/Taipei
DEFAULT_LANGUAGE=zh-TW

# ============================================
# API 文檔設定
# ============================================
# 是否啟用 API 文檔 (生產環境建議關閉)
ENABLE_DOCS=true

# API 文檔路徑
DOCS_URL=/api/docs
REDOC_URL=/api/redoc

# ============================================
# 開發工具
# ============================================
# 是否啟用熱重載 (僅開發環境)
RELOAD=true

# 是否顯示詳細錯誤訊息 (僅開發環境)
DEBUG=true

# ============================================
# Celery Flower 監控
# ============================================
# FLOWER_BASIC_AUTH=admin:password
# FLOWER_PORT=5555
