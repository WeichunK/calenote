# ============================================
# Calenote Production Environment Variables
# ============================================
# Copy this file to .env.production and fill in the values
# DO NOT commit .env.production to version control

# ============================================
# DATABASE (Auto-injected by Zeabur)
# ============================================
# Zeabur will automatically inject ${POSTGRES_CONNECTION_STRING}
DATABASE_URL=${POSTGRES_CONNECTION_STRING}

# Manual configuration format (if not using Zeabur):
# DATABASE_URL=postgresql+asyncpg://user:password@host:5432/dbname

# Database connection pool
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# ============================================
# REDIS (Auto-injected by Zeabur)
# ============================================
# Zeabur will automatically inject ${REDIS_CONNECTION_STRING}
REDIS_URL=${REDIS_CONNECTION_STRING}
CELERY_BROKER_URL=${REDIS_CONNECTION_STRING}
CELERY_RESULT_BACKEND=${REDIS_CONNECTION_STRING}

# Manual configuration format (if not using Zeabur):
# REDIS_URL=redis://:password@host:6379/0

# ============================================
# SECURITY - CRITICAL
# ============================================
# Generate with: openssl rand -hex 32
# ⚠️ MUST be changed before deployment!
SECRET_KEY=CHANGE_ME_USE_openssl_rand_hex_32

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CORS Configuration
# ============================================
# Zeabur auto-fills with frontend domain
BACKEND_CORS_ORIGINS=["${FRONTEND_DOMAIN}"]

# Manual configuration format:
# BACKEND_CORS_ORIGINS=["https://your-frontend.com","https://app.your-domain.com"]

# ============================================
# APPLICATION SETTINGS
# ============================================
ENVIRONMENT=production
PROJECT_NAME=Calendar App API
DEBUG=false
RELOAD=false

# ============================================
# PYTHON CONFIGURATION
# ============================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ============================================
# WEBSOCKET
# ============================================
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_TIMEOUT=300

# ============================================
# FEATURES
# ============================================
ENABLE_REGISTRATION=true
ENABLE_DOCS=true
DOCS_URL=/api/docs
REDOC_URL=/api/redoc

# ============================================
# LOCALIZATION
# ============================================
DEFAULT_TIMEZONE=Asia/Taipei
DEFAULT_LANGUAGE=zh-TW

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================
# FILE UPLOAD
# ============================================
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=10485760

# ============================================
# FRONTEND ENVIRONMENT VARIABLES
# (For Next.js - packages/web/.env.production)
# ============================================
# Zeabur auto-fills with service domains
NEXT_PUBLIC_API_URL=https://${BACKEND_DOMAIN}/api/v1
NEXT_PUBLIC_WS_URL=wss://${BACKEND_DOMAIN}/ws

# Manual configuration format:
# NEXT_PUBLIC_API_URL=https://api.your-domain.com/api/v1
# NEXT_PUBLIC_WS_URL=wss://api.your-domain.com/ws

NODE_ENV=production
